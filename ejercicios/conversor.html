<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
</head>

<body>
    <h1>Bienvenido al conversor de monedas</h1>
    <div>
        <p>Introducir el importe que quiere convertir</p>
        <p>Selecciona la conversión que quieres realizar</p>
        <p class="origen">
            <input type="number" id="cantidadOrigen" placeholder="introduce una cantidad" class="conversion" />
            <select id="conversionOrigen">
          <option value="1">Dollar</option>
          <option value="2">Euro</option>
          <option value="3">Libra</option>
          <option value="4" selected="select">Yen</option>
        </select>
        </p>

        <p class="destino">
            <input type="number" id="cantidadDestino" placeholder="introduce una cantidad" class="conversion" />
            <select id="conversionDestino">
          <option value="1">Dollar</option>
          <option value="2">Euro</option>
          <option value="3">Libra</option>
          <option value="4">Yen</option>
        </select>
        </p>
    </div>
</body>

<script>
    let elementosConversion = document.querySelectorAll("input");
    let elementoOrigen = document.querySelectorAll("#conversionOrigen");
    let elementoDestino = document.querySelectorAll("#conversionDestino");
    console.log(elementosConversion);

    elementosConversion.forEach((element) => {
        element.addEventListener("change", function(event) {
            //console.log('cambio');
            //console.log(event.target.id);
            //console.log(event.target);
            //console.log(element.value);
            let moneda;
            console.log(event.target.id);
            monedaOrigen = document.querySelector(
                "p[class=origen] select[id=conversionOrigen]"
            );
            monedaDestino = document.querySelector(
                "p[class=destino] select[id=conversionDestino]"
            );

            inputOrigen = document.querySelector("#cantidadOrigen");
            inputDestino = document.querySelector("#cantidadDestino");

            if (event.target.id === "cantidadOrigen") {
                realizarConversion(
                    monedaOrigen[monedaOrigen.options.selectedIndex].text,
                    inputOrigen.value,
                    monedaDestino[monedaDestino.options.selectedIndex].text,
                    inputDestino.value
                );
            } else if (event.target.id === "cantidadDestino") {
                monedaDestino[monedaDestino.options.selectedIndex].text,
                    inputDestino.value,
                    monedaOrigen[monedaOrigen.options.selectedIndex].text,
                    inputOrigen.value;
            }
        });
    });

    function realizarConversion(origen, origenValor, destino, destinoValor) {
        console.log(`${origen} ${destino}`);

        let conversion;
        switch (origen) {
            case "Euro":
                switch (destino) {
                    case "Euro":
                        conversion = origenValor * 1;
                        console.log('he entrado por aquí euros');

                        break;
                    case "Dollar":
                        conversion = origenValor * 1.11012;

                        break;
                    case "Yen":
                        conversion = origenValor * 119.67;

                        break;
                    case "Libra":
                        conversion = origenValor * 0.89881;
                        break;
                }
                document.querySelector("#cantidadDestino").value = conversion;
                break;
            case "Dollar":
                break;
            case "Yen":
                break;
            case "Libra":
                break;
        }
    }
</script>

</html>